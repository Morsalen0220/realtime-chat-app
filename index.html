<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡¶∞‡¶ø‡¶Ø‡¶º‡ßá‡¶≤-‡¶ü‡¶æ‡¶á‡¶Æ ‡¶ó‡ßç‡¶∞‡ßÅ‡¶™ ‡¶ì ‡¶™‡ßç‡¶∞‡¶æ‡¶á‡¶≠‡ßá‡¶ü ‡¶ö‡ßç‡¶Ø‡¶æ‡¶ü</title>
    <link rel="stylesheet" href="style.css">
	<script src="https://cdn.jsdelivr.net/npm/emoji-button@latest/dist/index.min.js"></script>
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Hind+Siliguri:wght@400;500;600;700&family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
<div id="notification-container"></div>
    <div id="chat-container">
       <div id="auth-overlay" style="display: none;">
            <div class="auth-box">
                <h2 id="auth-title">‡¶ö‡ßç‡¶Ø‡¶æ‡¶ü‡ßá ‡¶∏‡ßç‡¶¨‡¶æ‡¶ó‡¶§‡¶Æ!</h2>
                <div id="login-form">
                    <input type="text" id="loginUsername" placeholder="‡¶á‡¶â‡¶ú‡¶æ‡¶∞‡¶®‡ßá‡¶Æ" autocomplete="off" />
                    <input type="password" id="loginPassword" placeholder="‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶°" autocomplete="off" />
                    <button id="loginBtn">‡¶≤‡¶ó‡¶á‡¶®</button>
                    <p>‡¶è‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü ‡¶®‡ßá‡¶á? <a href="#" id="showRegister">‡¶∞‡ßá‡¶ú‡¶ø‡¶∏‡ßç‡¶ü‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßÅ‡¶®</a></p>
                </div>
                <div id="register-form" style="display:none;">
                    <input type="text" id="registerUsername" placeholder="‡¶á‡¶â‡¶ú‡¶æ‡¶∞‡¶®‡ßá‡¶Æ" autocomplete="off" />
                    <input type="password" id="registerPassword" placeholder="‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶°" autocomplete="off" />
                    <button id="registerBtn">‡¶∞‡ßá‡¶ú‡¶ø‡¶∏‡ßç‡¶ü‡¶æ‡¶∞</button>
                    <p>‡¶á‡¶§‡¶ø‡¶Æ‡¶ß‡ßç‡¶Ø‡ßá ‡¶è‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü ‡¶Ü‡¶õ‡ßá? <a href="#" id="showLogin">‡¶≤‡¶ó‡¶á‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®</a></p>
                </div>
                <button id="guestBtn">‡¶Ö‡¶§‡¶ø‡¶•‡¶ø ‡¶π‡¶ø‡¶∏‡ßá‡¶¨‡ßá ‡¶™‡ßç‡¶∞‡¶¨‡ßá‡¶∂ ‡¶ï‡¶∞‡ßÅ‡¶®</button>
            </div>
        </div>

        <div id="main-chat-content" style="display: none;">
            <div id="menu-overlay"></div>

            <div id="sidebar">
                <h3>‡¶Ö‡¶®‡¶≤‡¶æ‡¶á‡¶®</h3>
                <ul id="online-users-list"></ul>
            </div>
            <div id="chat-area">
                <div id="top-bar">
                    <button id="hamburger-menu" class="top-bar-btn">‚ò∞</button>
                    <span id="currentRoomDisplayTop"></span>
                    <span id="onlineUsersCountDisplay" class="top-bar-btn" style="display: none; cursor: pointer;"></span>

                    <div id="user-profile-info">
                        <span id="loggedInUserInfo"></span>
                        <div style="position: relative;">
                            <img id="user-avatar-top" src="avatars/avatar1.png" alt="My Avatar">
                            <span id="unread-count-badge" class="unread-badge">0</span>
                        </div>
                    </div>
                    <button id="registerAsUserBtn" class="top-bar-btn" style="display: none;">‡¶á‡¶â‡¶ú‡¶æ‡¶∞ ‡¶π‡¶®</button>
                    <button id="clearChatBtn" class="top-bar-btn" title="‡¶ö‡ßç‡¶Ø‡¶æ‡¶ü ‡¶Æ‡ßÅ‡¶õ‡ßÅ‡¶®">üóëÔ∏è</button>
                    <button id="logoutBtn" class="top-bar-btn" style="display: none;">‡¶≤‡¶ó‡¶Ü‡¶â‡¶ü</button>
                </div>
                <div id="room-selection-buttons">
                    <button id="publicChatBtn" class="room-btn active">‡¶™‡¶æ‡¶¨‡¶≤‡¶ø‡¶ï</button>
                    <button id="privateChatBtn" class="room-btn">‡¶™‡ßç‡¶∞‡¶æ‡¶á‡¶≠‡ßá‡¶ü</button>
                </div>
                <div id="private-code-section" style="display: none;">
                    <input type="text" id="roomCodeInput" placeholder="‡¶™‡ßç‡¶∞‡¶æ‡¶á‡¶≠‡ßá‡¶ü ‡¶ï‡ßã‡¶°" autocomplete="off" />
                    <button id="joinPrivateRoomBtn">‡¶™‡ßç‡¶∞‡¶¨‡ßá‡¶∂</button>
                    <button id="createPrivateRoomBtn">‡¶§‡ßà‡¶∞‡¶ø</button>
                </div>
                <ul id="messages"></ul>
                <div id="typing-indicator"></div>
                <form id="form" action="">
                    <button type="button" id="emoji-btn">üòÄ</button>
                    <button type="button" id="ephemeralToggleBtn" title="‡¶∏‡ßç‡¶¨‡¶Ø‡¶º‡¶Ç‡¶ï‡ßç‡¶∞‡¶ø‡¶Ø‡¶º‡¶≠‡¶æ‡¶¨‡ßá ‡¶Æ‡ßÅ‡¶õ‡ßá ‡¶Ø‡¶æ‡¶ì‡¶Ø‡¶º‡¶æ ‡¶Æ‡ßá‡¶∏‡ßá‡¶ú">
                        <i class="fas fa-hourglass-half"></i>
                    </button>
                    <input id="input" autocomplete="off" placeholder="‡¶Æ‡ßá‡¶∏‡ßá‡¶ú ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®..." />
                    <button type="submit"><i class="fas fa-paper-plane"></i></button>
                </form>
                <div id="messages-loader" style="display: none; text-align: center; padding: 10px; color: #888;">‡¶≤‡ßã‡¶° ‡¶π‡¶ö‡ßç‡¶õ‡ßá...</div>
            </div>
        </div>
    </div>

    <div id="rooms-modal" class="modal">
        <div class="modal-content">
            <span class="close-button">&times;</span>
            <h2>‡¶∏‡¶Ç‡¶∞‡¶ï‡ßç‡¶∑‡¶ø‡¶§ ‡¶∞‡ßÅ‡¶Æ</h2>
            <ul id="saved-rooms-list"></ul>
        </div>
    </div>

    <div id="profile-modal" class="modal">
        <div class="modal-content">
            <span class="close-button">&times;</span>
            <h2>‡¶™‡ßç‡¶∞‡ßã‡¶´‡¶æ‡¶á‡¶≤</h2>
            <div id="avatar-selection">
                <p>‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶≠‡¶æ‡¶ü‡¶æ‡¶∞:</p>
                <div class="avatar-options">
                    <img src="avatars/avatar1.png" class="avatar-choice" data-avatar="avatars/avatar1.png" alt="Avatar 1">
                    <img src="avatars/avatar2.png" class="avatar-choice" data-avatar="avatars/avatar2.png" alt="Avatar 2">
                    <img src="avatars/avatar3.png" class="avatar-choice" data-avatar="avatars/avatar3.png" alt="Avatar 3">
                    <img src="avatars/avatar4.png" class="avatar-choice" data-avatar="avatars/avatar4.png" alt="Avatar 4">
                </div>
            </div>
            <hr style="margin: 20px 0; border: none; border-top: 1px solid #eee;">
            <div id="status-update-section">
                <p>‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶∏‡ßç‡¶ü‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶∏:</p>
                <textarea id="status-input" rows="3" maxlength="150" placeholder="‡¶∏‡ßç‡¶ü‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶∏ ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®..."></textarea>
                <button id="save-status-btn">‡¶∏‡ßá‡¶≠ ‡¶ï‡¶∞‡ßÅ‡¶®</button>
            </div>
            <hr style="margin: 20px 0; border: none; border-top: 1px solid #eee;">
            <div id="theme-selection-section" style="display: flex; flex-direction: column; gap: 10px; align-items: center;">
                <p style="margin: 0;">‡¶•‡¶ø‡¶Æ ‡¶™‡¶∞‡¶ø‡¶¨‡¶∞‡ßç‡¶§‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®:</p>
                <div class="theme-toggle-switch">
                    <input type="checkbox" id="darkModeToggle" class="toggle-checkbox">
                    <label for="darkModeToggle" class="toggle-label">
                        <span class="toggle-inner"></span>
                        <span class="toggle-switch"></span>
                    </label>
                </div>
            </div>
        </div>
    </div>
    <div id="view-profile-modal" class="modal">
        <div class="modal-content profile-view">
            <span class="close-button" id="viewProfileModalCloseBtn">&times;</span>
            <div id="profile-details">
                <img id="profile-view-avatar" src="avatars/avatar1.png" alt="User Avatar">
                <h2 id="profile-view-username">‡¶á‡¶â‡¶ú‡¶æ‡¶∞‡¶®‡ßá‡¶Æ</h2>
                <p id="profile-view-status">‡¶∏‡ßç‡¶ü‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶∏ ‡¶è‡¶ñ‡¶æ‡¶®‡ßá...</p>
                <button id="kickUserFromProfileBtn" class="action-btn confirm-btn" style="display:none; margin-top: 20px;">‡¶ï‡¶ø‡¶ï ‡¶ï‡¶∞‡ßÅ‡¶®</button>
            </div>
        </div>
    </div>

    <div id="delete-confirmation-modal" class="modal">
        <div class="modal-content">
            <span class="close-button" id="deleteModalCloseButton">&times;</span>
            <h2>‡¶Æ‡ßá‡¶∏‡ßá‡¶ú ‡¶Æ‡ßÅ‡¶õ‡ßÅ‡¶®</h2>
            <p>‡¶Ü‡¶™‡¶®‡¶ø ‡¶ï‡¶ø ‡¶®‡¶ø‡¶∂‡ßç‡¶ö‡¶ø‡¶§ ‡¶Ø‡ßá ‡¶è‡¶á ‡¶Æ‡ßá‡¶∏‡ßá‡¶ú‡¶ü‡¶ø ‡¶Æ‡ßÅ‡¶õ‡ßá ‡¶´‡ßá‡¶≤‡¶§‡ßá ‡¶ö‡¶æ‡¶®?</p>
            <div class="modal-buttons">
                <button id="confirmDeleteBtn" class="action-btn confirm-btn">‡¶π‡ßç‡¶Ø‡¶æ‡¶Å, ‡¶Æ‡ßÅ‡¶õ‡ßÅ‡¶®</button>
                <button id="cancelDeleteBtn" class="action-btn cancel-btn">‡¶®‡¶æ, ‡¶¨‡¶æ‡¶§‡¶ø‡¶≤ ‡¶ï‡¶∞‡ßÅ‡¶®</button>
            </div>
        </div>
    </div>
    <div id="ephemeral-duration-modal" class="modal">
        <div class="modal-content">
            <span class="close-button" id="ephemeralModalCloseButton">&times;</span>
            <h2>‡¶Æ‡ßá‡¶∏‡ßá‡¶ú ‡¶Æ‡ßÅ‡¶õ‡¶æ‡¶∞ ‡¶∏‡¶Æ‡¶Ø‡¶º</h2>
            <p>‡¶è‡¶á ‡¶Æ‡ßá‡¶∏‡ßá‡¶ú‡¶ó‡ßÅ‡¶≤‡ßã ‡¶ï‡¶§‡¶ï‡ßç‡¶∑‡¶£ ‡¶™‡¶∞ ‡¶∏‡ßç‡¶¨‡¶Ø‡¶º‡¶Ç‡¶ï‡ßç‡¶∞‡¶ø‡¶Ø‡¶º‡¶≠‡¶æ‡¶¨‡ßá ‡¶Æ‡ßÅ‡¶õ‡ßá ‡¶Ø‡¶æ‡¶¨‡ßá?</p>
            <div class="duration-options">
                <button class="duration-choice" data-duration="5000">‡ß´ ‡¶∏‡ßá‡¶ï‡ßá‡¶®‡ßç‡¶°</button>
                <button class="duration-choice" data-duration="10000">‡ßß‡ß¶ ‡¶∏‡ßá‡¶ï‡ßá‡¶®‡ßç‡¶°</button>
                <button class="duration-choice" data-duration="20000">‡ß®‡ß¶ ‡¶∏‡ßá‡¶ï‡ßá‡¶®‡ßç‡¶°</button>
                <button class="duration-choice" data-duration="3600000">‡ßß ‡¶ò‡¶£‡ßç‡¶ü‡¶æ</button>
                <button class="duration-choice off-option" data-duration="0">‡¶¨‡¶®‡ßç‡¶ß ‡¶ï‡¶∞‡ßÅ‡¶®</button>
            </div>
        </div>
    </div>

    <script src="/socket.io/socket.io.js"></script>
    <script src="main.js" defer></script>
</body>
</html>